Aggregate dynamics for dense crowd simulation