Internet performance is tightly related to the properties of TCP and UDP protocols, jointly responsible for the delivery of the great majority of Internet traffic. It is well understood how these protocols behave under first-in-first-out (FIFO) queuing and what are the network congestion effects. However, no comprehensive analysis is available when flow-aware mechanisms such as per-flow scheduling and dropping policies are deployed. Previous simulation and experimental results leave a number of unanswered questions. In this paper, we tackle this issue by modeling via a set of fluid nonlinear ordinary differential equations (ODEs) the instantaneous throughput and the buffer occupancy ofNlong-lived TCP sources under three per-flow scheduling disciplines (Fair Queuing, Longest Queue First, Shortest Queue First) and with longest queue drop buffer management. We study the system evolution and analytically characterize the stationary regime: Closed-form expressions are derived for the stationary throughput/sending rate and buffer occupancy, which give a thorough understanding of short/ long-term fairness for TCP traffic. Similarly, we provide the characterization of the loss rate experienced by UDP flows in the presence of TCP traffic. As a result, the analysis allows to quantify benefits and drawbacks related to the deployment of flow-aware scheduling mechanisms in different networking contexts. The model accuracy is confirmed by a set ofns2 simulations and by the evaluation of the three scheduling disciplines in a real implementation in the Linux kernel.