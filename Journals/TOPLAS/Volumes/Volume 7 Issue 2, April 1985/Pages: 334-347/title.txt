Dealing with world-model-based programs